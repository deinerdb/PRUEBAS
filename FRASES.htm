<!DOCTYPE HTML>
<html lang="es" dir="ltr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">  
        <meta name="description" content="Visor de Frases Sabias"/>
        <!-- Chrome, Firefox, OS y Opera -->
        <meta name="theme-color" content="#663399" />
        <!-- Windows Phone -->
        <meta name="msapplication-navbutton-color" content="#663399" />
        <title>Frases Sabias</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="estilo.css" />
        
        <link rel="icon" href="favicon.ico" type="image/x-icon" />
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
        <!-- fuente para las frases -->
        <link href='https://fonts.googleapis.com/css?family=Flamenco' rel='stylesheet'>

        <!--*jQuery CDN
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        este es más nuevo, pero usamos la versión vieja
    -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

        <style>
            .loader {
                position: fixed;
                left: 0px;
                top: 0px;
                width: 100%;
                height: 100%;
                z-index: 9999;
                background: url('pageLoader.gif') 50% 50% no-repeat rgb(249,249,249);
                opacity: 0.8;
                filter: Alpha(opacity=80); /* IE8 and earlier */
            }
            /*de esta página, adicional al archivo CSS*/
            /*LA BARRA DE NAVEGACIÓN DE FRASES*/
            .cajaFrases {
                background-color: rebeccapurple;
                z-index: 400;
                white-space: nowrap;
                overflow: auto;
                display: inline-flex;
                position: fixed;
                margin: 0;
                padding: 0;                
                bottom: 0;
                left: 0;
                right: 0;
                /*no se puede seleccionar el texto*/
                -webkit-user-select: none; /* Chrome, Opera, Safari */
                -moz-user-select: none; /* Firefox 2+ */
                -ms-user-select: none; /* IE 10+ */
                user-select: none; /* Standard syntax */
                
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
            }
            #BtnTop {
               
                bottom: 80px !important; /* Place the button at the middle of the page */
                
            }
           
            /* before diferente por la barra de menú de abajo */

            .sidenav:after {
                height: 80px !important; /*padding-bottom: ESTO PARA QUE SE VEA EN IE Y FIREFOX*/
            }
            .main {               
                margin-bottom: 62px !important;
            }
            /*íconos de la barra inferior*/
            .cajaFrases .fa {
                /* no llevan texto ...*/
                font-size: 1.2em;                
            }
            /*íconos en los títulos de las ventanas modales*/
            .modal-header .fa {
                /* van con texto a la derecha ...*/
                margin-right: 6px;
                border-style:solid;
                border-color:lavender;
                border-width: 1px;
                padding: 2px 6px ;
                font-size: 0.85em;

            }
            /*íconos en la ventana modal de información sobre herramientas*/
            #modalBodyTexto .fa {
                /* van con texto a la derecha ...*/
                color: rebeccapurple;
                font-size: 2em;
                float: left;
                margin: 0 12px 4px 0;
                
            }
            #modalBodyTexto hr {
                /* no deben flotar */
                clear:left;
                margin-bottom: 16px;
                margin-top: 24px;

            }
            #modalBodyTexto hr:first-child {
               
                margin-top: 2px;
            }
            #modalBodyTexto hr:last-child {
                margin-bottom: 8px;
            }

            /*interfaz ingresar número de frase*/
            #preguntaFrase {
                color: purple;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
            .input-container {
                display: -ms-flexbox; /* IE10 */                
                display: -webkit-box;
                display: flex;
                width: 100%;
                margin-bottom: 30px;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
            }
            #divIr {
                /*contendedor con borde superior e inferior diferente*/
                border-bottom-style: solid;
                border-top-style: solid;                
                margin: 8px;
                border-color: mediumpurple;
            }
            .icon {
                padding: 10px;
                background: indigo;
                color: white;
                min-width: 50px;
                text-align: center;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
            }

            .input-field {
                width: 100%;
                padding: 10px;
                outline: none;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
            }

                .input-field:focus {
                    border: 2px solid indigo;
                    background-color: lavender !important;
                }

            /* Set a style for the submit button */
            .btn {
                color: white;
                -webkit-border-radius: 5px;
                -moz-border-radius: 5px;
                border-radius: 5px;
                padding: 15px 20px;
                border: none;
                cursor: pointer;
                width: 100%;
                text-decoration: none;
                background: indigo; /* For browsers that do not support gradients */
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
                margin: 0;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
                font-size: 1.1em;
            }

                .btn:hover {
                    background: rebeccapurple; /* For browsers that do not support gradients */
                    background-image: -webkit-radial-gradient(#2d004d, #3b0066, indigo);
                    background-image: -moz-radial-gradient(#2d004d, #3b0066, indigo);
                    background-image: -o-radial-gradient(#2d004d, #3b0066, indigo);
                    background-image: radial-gradient(#2d004d, #3b0066, indigo);
                }
                /*mensaje de validación*/
            #esperado {
                color: green;
                background-color: #d3f8d3;                
                margin: 24px 6px ;
                padding: 8px 8px 8px 12px;
                border-left-style: solid;
                border-left-color: green;
                border-left-width: 4px;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
            }
                /*botones de barra de herramientas*/
            .cajaFrases button {
                cursor: pointer;
                font-family: Tahoma, Arial, sans-serif;
                display: inline-block;
                color: white;
                background-color: rebeccapurple;
                padding: 12px;
                margin: 8px 2px;
                text-align: center;
                opacity: 1;
                visibility: visible;
                -moz-transition: opacity 0.4s, visibility 0.4s, background-color 0.4s;
                -o-transition: opacity 0.4s, visibility 0.4s, background-color 0.4s;
                -webkit-transition: opacity 0.4s, visibility 0.4s, background-color 0.4s;
                transition: opacity 0.4s, visibility 0.4s, background-color 0.4s;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
            }
            #spanBuscar {
                font-size: 1.2em;
                margin-left: 3px;
                display:none;
            }
            /* solo visible en pantallas grandes  */
            @media only screen and (min-width: 600px) {
                #spanBuscar {
                    display: inline-block;
                }
            }
            #txtBuscar {
                font-family: Tahoma, Arial, sans-serif;
                display: inline-block;
                margin: 8px 2px 8px 6px;
                text-align: left;
                padding: 6px;
                border: none;
                font-size: 17px;
                -moz-transition: width 0.5s ease-in-out;
                -o-transition: width 0.5s ease-in-out;
                -webkit-transition: width 0.5s ease-in-out;
                transition: width 0.5s ease-in-out;
                width: 0;
                min-width: 0;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
                max-width: 500px;
                color: black;
                background-color: LightGray;
            }
                #txtBuscar:focus {
                    background-color: white !important;
                    border: 2px solid dodgerblue;
                }

                .cajaFrases button:active, .cajaFrases button:hover {
                    background-color: lavender;
                    color: purple;
                }
                
            .cajaFrases button:first-child {
                margin-left: 6px;
            }
            .cajaFrases button:last-child {
                margin-right: 6px;
            }

            #ingresando {
                text-align: center;
                padding: 6px;
                margin:auto;
                width: 95%;
                color: dodgerblue;
                font-weight: bold;
                border-width: 2px;
                border-style: inset;
                border-color: dodgerblue;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
                /*oculto por defecto*/
                display: none;
            }

                #ingresando img {
                    width: 70%;
                    max-width:300px;
                    margin: 0;
                }
                
                #contFrases {
                    font-family: 'Flamenco', Verdana, Geneva, Tahoma, sans-serif;
                    font-size: 10vh;
                    text-align: left;
                    padding: 10px;
                    border-width: 5px;
                    border-style: outset;
                    border-color: indigo;
                    -moz-border-radius: 24px; /*borde redondeado*/
                    -webkit-border-radius: 24px; /*borde redondeado*/
                    border-radius: 24px; /*borde redondeado*/
                    width: 90%;
                    margin: 24px auto 32px auto;
                    background-color: lavender;
                    /*SOMBRA*/
                    -moz-box-shadow: 10px 10px 5px MediumPurple;
                    -webkit-box-shadow: 10px 10px 5px MediumPurple;
                    box-shadow: 10px 10px 5px MediumPurple; /*sombra gris en la caja*/
                    -webkit-box-sizing: border-box;
                    -moz-box-sizing: border-box;
                    box-sizing: border-box;
                }
            #contFrases::after {
                content: "";
                clear: both;                
                display: table;
                    
            }
                #icoPen {                    
                    color: rebeccapurple;                    
                    float: right;
                    margin: 6px 0 0 6px;
                    
                }   
            #infoEncontradas {
                color:purple;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
                margin: 5px 0px;
            }

            .fraseBiblia {
                color: darkred;
            }
            .fraseSeglar {
                color: midnightblue;
            }

            p.fraseBiblia , p.fraseSeglar {
                margin-top: 0.2em;
            }

            span.fraseBiblia , span.fraseSeglar {
                font-weight: bold;
                font-family: Courier New, Courier, monospace;
            }
            
            /*PARA LAS VENTANAS MODALES*/
            /***************************/
            .formulario {
                font-size: 1.1em;
                padding: 10px 8px;
            }
            #modalBodyTexto {
                max-width: 100%;
                /*margin: 16px 0px 2px 0px;*/
                margin: 4px;
                overflow: auto !important;
                -webkit-border-radius: 5px;
                -moz-border-radius: 5px;
                border-radius: 5px;
                border-style: solid;
                border-color: purple;
                border-width: 1.2px;
                box-sizing: border-box;
                font-family: Verdana, Geneva, Tahoma, sans-serif;
                padding: 12px 10px 12px 10px;
                color: #1a0033; /*un púrpura casi negro*/
                background-color: white;
            }
            /* The Modal (background) */
            .modal {
                display: none; /* Hidden by default */
                position: fixed; /* Stay in place */
                z-index: 450; /* Sit on top. ver la tabla de valores en el css */
                padding-top: 30px; /* Location of the box */
                left: 0;
                top: 0;
                width: 100%; /* Full width */
                height: 100%; /* Full height */
                overflow: auto; /* Enable scroll if needed */
                background-color: rgb(0,0,0); /* Fallback color */
                background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            }

            /* Modal Content */
            .modal-content {
                position: relative;
                background-color: white;
                margin: auto;
                padding: 0;
                border: 1px solid #888;
                width: 95%;
                -moz-box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
                -webkit-box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
                box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
                -webkit-animation-name: animatetop;
                -webkit-animation-duration: 0.4s;
                -moz-animation-name: animatetop;
                -moz-animation-duration: 0.4s;
                -o-animation-name: animatetop;
                -o-animation-duration: 0.4s;
                animation-name: animatetop;
                animation-duration: 0.4s;
            }

            /* Add Animation */
            @-webkit-keyframes animatetop {
                from {
                    top: -300px;
                    opacity: 0
                }

                to {
                    top: 0;
                    opacity: 1
                }
            }

            @-moz-keyframes animatetop {
                from {
                    top: -300px;
                    opacity: 0
                }

                to {
                    top: 0;
                    opacity: 1
                }
            }

            @-o-keyframes animatetop {
                from {
                    top: -300px;
                    opacity: 0
                }

                to {
                    top: 0;
                    opacity: 1
                }
            }

            @keyframes animatetop {
                from {
                    top: -300px;
                    opacity: 0
                }

                to {
                    top: 0;
                    opacity: 1
                }
            }
            /* The Close Button */
            .close {
                color: white;
                float: right;
                font-size: 28px;
            }

                .close:hover,
                .close:focus {
                    color: lavender;
                    text-decoration: none;
                    cursor: pointer;
                    font-weight: bold;
                    font-size: 30px;
                }

            .modal-header {
                padding: 2px 16px;
                background-color: indigo;
                color: white;
            }

            #modalBody {
                /*white-space: nowrap; solo una línea cada link si los hay*/
                /*Interfaz para ingresar número de frase*/
            }

            .modal-body {
                padding: 2px 12px;
                max-width: 100%;
                overflow: auto;
                /*max-height:150px; puede ajustarse con javascript*/
                -moz-transition: width 0.5s;
                -o-transition: width 0.5s;
                -webkit-transition: width 0.5s;
                transition: width 0.5s; /* 0.5 second transition effect to slide in the sidenav */
                /*no se puede seleccionar el texto*/
                -webkit-user-select: none; /* Chrome, Opera, Safari */
                -moz-user-select: none; /* Firefox 2+ */
                -ms-user-select: none; /* IE 10+ */
                user-select: none; /* Standard syntax */
            }
              
            .modal-footer {
                padding: 0;
                background-color: indigo;
                color: white;
            }

            /*REVISAR EN CASO DE USAR OTROS HEADERS*/   
            .modal-footer h4, .modal-header h2 {
                    margin-top: 0.4em;
                    margin-bottom: 0.4em;
                }
        </style>

    </head>
    <body>

        <div class="loader"></div>
        <script type="text/javascript">
            /**
            * Función que captura las variables pasados por GET
            * Devuelve un array de clave=>valor
            */
            function getGET() {
                // capturamos la url
                var loc = document.location.href;
                // si existe el interrogante
                if (loc.indexOf('?') > 0) {
                    // cogemos la parte de la url que hay despues del interrogante
                    var getString = loc.split('?')[1];
                    // obtenemos un array con cada clave=valor
                    var GET = getString.split('&');
                    var get = {};
                    // recorremos todo el array de valores
                    for (var i = 0, l = GET.length; i < l; i++) {
                        var tmp = GET[i].split('=');
                        get[tmp[0]] = unescape(decodeURI(tmp[1]));
                    }
                    return get;
                }
            }
            function procesaGET() {
                // captura los valores pasados por get
                var valores = getGET();
                if (valores) {
                    //recogemos los valores que nos envía la URL en variables para trabajar con ellas
                    var getnumfrase = valores['numfrase'];
                    //valida que exista esa frase:
                    if (existeFrase("f" + getnumfrase) == true) {
                        //valida
                        //la frase actual debe ser la recibida
                        fraseActual = getnumfrase;

                    } else {
                        //error, la frase no existe
                        //debe ir a la primera frase
                        fraseActual = 1;
                    }

                    
                    
                } else {
                    // no se ha recibido ningún parámetro por GET
                    //debe ir a la primera frase
                    fraseActual = 1;
                }

                //se mueve a la frase
                mostrarFrase(fraseActual);
            }

           

            //cuando termina de cargar la página procesa el get y quita el loader
            $(window).load(function () {
                procesaGET();
                $(".loader").fadeOut("slow");
            });

        </script>

        <!-- The actual snackbar -->
        <div id="snackbar">Realizado</div>

        <div id="mySidenav" class="sidenav">
            <a href="INDEX.htm"><i class="fa fa-home"></i>INICIO</a>
            <a href="HTML.htm"><i class="fa fa-html5"></i>HTML</a>
            <a href="CSS.htm"><i class="fa fa-css3"></i>CSS</a>
            <a href="JAVASCRIPT.htm"><i class="fa fa-code"></i>JAVASCRIPT</a>            
            <a href="MEDIA.htm"><i class="fa fa-play"></i>MULTIMEDIA</a>
            <a href="FILTROS.htm"><i class="fa fa-paint-brush"></i>FILTROS</a>
            <a href="CANVAS.htm"><i class="fa fa-file-image-o"></i>CANVAS</a>
            <a href="JUEGO.htm"><i class="fa fa-gamepad"></i>JUEGO</a>
            <a href="SVG.htm"><i class="fa fa-picture-o"></i>SVG</a>
            <a href="SITIOS.htm"><i class="fa fa-globe"></i>SITIOS</a>
            <a href="FORM.htm"><i class="fa fa-file-text-o"></i>FORMULARIOS</a>
            <a href="FUENTE.htm"><i class="fa fa-font"></i>FUENTES</a>
            <a href="IMC.htm"><i class="fa fa-calculator"></i>IMC</a>
            <a href="DTV.htm"><i class="fa fa-television"></i>DirecTV <sup>&#174;</sup></a>
            <a href="LOADERS.htm"><i class="fa fa-spinner"></i>LOADERS</a>
            <a href="MAP.htm"><i class="fa fa-map-marker"></i>MAPA</a>            
            <a href="TRADUCTOR.htm"><i class="fa fa-google"></i>TRADUCIR</a>
            <a href="GRAFICAR.htm"><i class="fa fa-pie-chart"></i>GRAFICAR</a>
            <a class="selected" id="selectedsidenav" href="FRASES.htm"><i class="fa fa-book"></i>FRASES</a>
            <hr />
            <a href="#" onclick="imprimir()"><i class="fa fa-print"></i>IMPRIMIR</a>
        </div>
        <div id="relleno">
            relleno
        </div>
        <div id="overlay" onclick="soloCerrar()">
        </div>
        <div class="caja" id="caja">
            <div class="container" id="container" onclick="myFunction(this)">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
            </div>
            <div class="navbar" id="navbar" onclick="soloCerrar()">
                <a href="INDEX.htm"><i class="fa fa-home"></i>VOLVER AL INICIO</a>
                <a href="HTML.htm"><i class="fa fa-html5"></i>HTML</a>
                <a href="CSS.htm"><i class="fa fa-css3"></i>CSS</a>
                <a href="JAVASCRIPT.htm"><i class="fa fa-code"></i>JAVASCRIPT</a>
                <a href="MEDIA.htm"><i class="fa fa-play"></i>MULTIMEDIA</a>
                <a href="FILTROS.htm"><i class="fa fa-paint-brush"></i>FILTROS</a>
                <a href="CANVAS.htm"><i class="fa fa-file-image-o"></i>CANVAS</a>
                <a href="JUEGO.htm"><i class="fa fa-gamepad"></i>JUEGO</a>
                <a href="SVG.htm"><i class="fa fa-picture-o"></i>SVG</a>
                <a href="SITIOS.htm"><i class="fa fa-globe"></i>SITIOS</a>
                <a href="FORM.htm"><i class="fa fa-file-text-o"></i>FORMULARIOS</a>
                <a href="FUENTE.htm"><i class="fa fa-font"></i>FUENTES</a>
                <a href="IMC.htm"><i class="fa fa-calculator"></i>IMC</a>
                <a href="DTV.htm"><i class="fa fa-television"></i>DirecTV <sup>&#174;</sup></a>
                <a href="LOADERS.htm"><i class="fa fa-spinner"></i>LOADERS</a>
                <a href="MAP.htm"><i class="fa fa-map-marker"></i>MAPA</a>
                <a href="TRADUCTOR.htm"><i class="fa fa-google"></i>TRADUCIR</a>
                <a href="GRAFICAR.htm"><i class="fa fa-pie-chart"></i>GRAFICAR</a>
                <a class="selected" id="selectednavbar" href="FRASES.htm"><i class="fa fa-book"></i>FRASES</a>
                <span id="separador">|</span>
                <a href="#" onclick="imprimir()"><i class="fa fa-print"></i>IMPRIMIR</a>

            </div>
        </div>
        <!-- La ventana modal para elegir número de frase, modal input -->
        <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content" id="modalContent">
                <div class="modal-header" id="modalHeader">
                    <span class="close">&times;</span>
                    <h2><i class="fa fa-hashtag" aria-hidden="true"></i>Ir a frase...</h2>
                </div>
                <div class="modal-body" id="modalBody">

                    <div id="divIr" >

                        <h3 id="preguntaFrase">¿Cuál frase desea ver?</h3>
                        <div class="input-container">
                            <i class="fa fa-hashtag icon"></i>
                            <input class="input-field" id="txtNumFrase" autocomplete="off" type="number" placeholder="Número de frase" step="1" min="1" maxlength="6" >
                        </div>  
                        
                    </div>

                    <p id="esperado">
                        <strong>Nota: </strong>
                        Se espera un número entero entre 1 y <span id="topeEsperado"></span>
                    </p>

                </div>
                <div class="modal-footer" id="modalFooter">
                    <button type="button" class="btn" id="btnNumFrase" >Aceptar</button>
                </div>
            </div>

        </div>
        <!-- La ventana modal con texto de ayuda sobre herramientas -->
        <div id="myModalTexto" class="modal">

            <!-- Modal content -->
            <div class="modal-content" id="modalContentTexto">
                <div class="modal-header" id="modalHeaderTexto">
                    <span class="close">&times;</span>
                    <h2><i class="fa fa-question" aria-hidden="true"></i>Información sobre herramientas</h2>
                </div>
                <div class="modal-body" id="modalBodyTexto">
                    <hr />
                    <i class="fa fa-search" aria-hidden="true"></i>
                    Activa el modo búsqueda. Muestra un cuadro de texto para ingresar la búsqueda.
                    Al buscar, se muestran las frases que contengan la expresión ingresada. 
                    En el modo búsqueda, puede presionar Enter o usar este botón para ejecutar la consulta.
                    <hr />
                    <i class="fa fa-arrow-left" aria-hidden="true"></i>
                    Se desplaza a la primera frase de la colección. 
                    No está disponible en el modo búsqueda.
                    <hr />
                    <i class="fa fa-chevron-left" aria-hidden="true"></i>
                    Se desplaza a la frase anterior de la colección. 
                    No está disponible en el modo búsqueda.
                    <hr />
                    <i class="fa fa-chevron-right" aria-hidden="true"></i>
                    Se desplaza a la frase siguiente de la colección. 
                    No está disponible en el modo búsqueda.
                    <hr />
                    <i class="fa fa-arrow-right" aria-hidden="true"></i>
                    Se desplaza a la última frase de la colección. 
                    No está disponible en el modo búsqueda.
                    <hr />
                    <i class="fa fa-paper-plane" aria-hidden="true"></i>
                    Se desplaza a una frase aleatoria (al azar) de la colección. 
                    No está disponible en el modo búsqueda.
                    <hr />
                    <i class="fa fa-hashtag" aria-hidden="true"></i>
                    Permite ir a una frase específica de la colección. 
                    Se muestra una interfaz para ingresar el número de la frase que se mostrará. 
                    No está disponible en el modo búsqueda.
                    <hr />
                    <i class="fa fa-times" aria-hidden="true"></i>
                    Desactiva el modo búsqueda. Solo está disponible en el modo búsqueda.
                    <hr />
                    <i class="fa fa-files-o" aria-hidden="true"></i>
                    Copia al portapapeles la frase actual de la colección. 
                    En el modo búsqueda, copia todas las frases encontradas.
                    <hr />                    
                    <i class="fa fa-link" aria-hidden="true"></i>
                    Copia al portapapeles un enlace web a la frase actual de la colección. 
                    Puede usar este enlace para compartir la frase actual.
                    No está disponible en el modo búsqueda.
                    <hr />
                    <i class="fa fa-question" aria-hidden="true"></i>
                    Como es obvio, muestra esta ventana con información sobre la barra de herramientas. 
                    No está disponible en el modo búsqueda.
                    <hr />
                </div>
            </div>

        </div>
            <div class="main" id="main"> 
                    <button class="accordion" id="accordion">Colección de <span id="topeAcordion"></span> Frases<i id="folder" class="fa" aria-hidden="true"></i></button>
                    <div class="panel" id="panel">
                        <p>
                            <i class="fa fa-book" aria-hidden="true"></i>
                            Colección de frases sabias... Sentencias que, como "gotitas de sabiduría", condensan verdades simples y profundas. 
                            No se incluyen los autores. Algunas son bíblicas.
                            <br />
                            <br />
                            <strong>Nota: </strong> <span class="fraseBiblia">Las frases bíblicas aparecen en rojo </span><span class="fraseSeglar">y las frases seglares aparecen en azul.</span>
                            <br />    
                            <br />
                            <strong>Haga clic en el botón de ayuda (ubicado al final de la barra, en la parte inferior de la pantalla), para obtener información sobre las demás herramientas.</strong>                             
                            <br />
                            <br />

                            <strong style="clear:left">Fragmento de código usado en esta página:</strong><br />
                        </p>

<textarea readonly rows="6">
...
// entra al modo búsqueda
document.getElementById("BtnBuscar").onclick = function () {
DefinirModoBuscar(true);
}
...
</textarea>
                        <i id="arrow" class="fa fa-angle-double-up" aria-hidden="true"></i>
                    </div>
                                
                                
                <div id="ingresando">
                    Ingresando búsqueda...
                    <br />
                    <img id="imgSearch" alt="Ingresando..." src="search.gif" width="800" height="600" />
                </div>

                <div id="contFrases">

                    <h3 id="infoEncontradas" class="parpadea">Frases encontradas:</h3>
                    
                    <span id="e1" class="fraseSeglar" style="display:none;" onclick="clickFrase(this.id)">Frase 1</span>
                    <p id="f1" class="fraseSeglar" style="display:none;" onclick="clickFrase(this.id)">Esta sería la primera, frase 1...</p>
                    
                    <span id="e2" class="fraseBiblia" style="display:none;" onclick="clickFrase(this.id)">Frase 2</span>
                    <p id="f2" class="fraseBiblia" style="display:none;" onclick="clickFrase(this.id)">Ejemplo, frase 2</p>

                    <span id="e3" class="fraseBiblia" style="display:none;" onclick="clickFrase(this.id)">Frase 3</span>
                    <p id="f3" class="fraseBiblia" style="display:none;" onclick="clickFrase(this.id)">Esta sería la última, frase 3...</p>

                    <!--al final un ícono de lápiz-->
                    <i id="icoPen" class="fa fa-pencil" aria-hidden="true"></i>
                </div>
                <h3 style="color:red" class="parpadea">Página en construcción, vuelve pronto...</h3>
                <div class="cajaFrases" id="cajaFrases">
                    <input type="search" placeholder="Buscar..." id="txtBuscar" maxlength="50" autocomplete="off" >
                    <button id="BtnBuscar" title="Buscar frases"><i class="fa fa-search" aria-hidden="true"></i></button>
                    <button id="BtnPrimeraFrase" title="Ir a la primera frase"><i class="fa fa-arrow-left" aria-hidden="true"></i></button>
                    <button id="BtnFraseAnterior" title="Ir a la frase anterior"><i class="fa fa-chevron-left" aria-hidden="true"></i></button>
                    <button id="BtnFraseSiguiente" title="Ir a la frase siguiente"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>
                    <button id="BtnUltimaFrase" title="Ir a la última frase"><i class="fa fa-arrow-right" aria-hidden="true"></i></button>
                    <button id="BtnFraseAleatoria" title="Mostrar frase al azar"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
                    <button id="BtnFraseSolicitada" title="Mostrar la frase número..."><i class="fa fa-hashtag" aria-hidden="true"></i></button>
                    <button id="BtnEjecutaBuscar" title="Realizar búsqueda"><i class="fa fa-search" aria-hidden="true"></i> <span id="spanBuscar">Buscar</span> </button>
                    <button id="BtnCerrar" title="Cerrar modo búsqueda"><i class="fa fa-times" aria-hidden="true"></i></button>
                    <button id="BtnCopiar" title="Copiar frase(s)"><i class="fa fa-files-o" aria-hidden="true"></i></button>
                    <button id="BtnEnlace" title="Copiar enlace a frase"><i class="fa fa-link" aria-hidden="true"></i></button>
                    <button id="BtnAyuda" title="Información sobre estos botones"><i class="fa fa-question" aria-hidden="true"></i></button>                                        
                </div>
                <!--El script principal de esta página-->
                <script type="text/javascript">

                    //*** IMPORTANTE ***
                    //NÚMERO MÁXIMO DE FRASE
                    //var maxNumFrase = "1153";
                    var maxNumFrase = "3"
                    //*********************
                    var fraseActual = 1;
                    var buscado = "";
                    //algunas tareas no se hacen cuando está buscando...
                    var buscando = false;

                    // modal de información completa sobre herramientas
                    var miTextoFull = document.getElementById("modalBodyTexto");
                    //para el modal

                    // Get the modal , input frase
                    var modal = document.getElementById('myModal');
                    // Get the modal texto
                    var modalTexto = document.getElementById('myModalTexto');

                    // Get the button that opens the modal input frase
                    var btn = document.getElementById("BtnFraseSolicitada");
                    // Get the button that opens the modal texto full sobre herramientas
                    var btnTexto = document.getElementById("BtnAyuda");


                    // Get the <span> element that closes the modal input frase
                    var span = document.getElementsByClassName("close")[0];
                    // Get the <span> element that closes the modal texto herramientas
                    var spanTexto = document.getElementsByClassName("close")[1]; 


                    // When the user clicks the button, open the modal input frase
                    btn.onclick = function () {
                        //valores ajustados                    
                        document.getElementById("txtNumFrase").value = "";
                        document.getElementById("topeEsperado").innerHTML = "" + maxNumFrase;
                        document.getElementById("txtNumFrase").setAttribute("max", maxNumFrase);
                        
                        modal.style.display = "block";
                        alturaModal();

                        //enfoca el input...                            
                        document.getElementById("txtNumFrase").focus(); 

                    }

                    // When the user clicks the button Texto, open the modal Texto herramientas
                    btnTexto.onclick = function () {

                        modalTexto.style.display = "block";
                        alturaModalTexto();

                    }


                    // When the user clicks on <span> (x), close the modal input frase
                    span.onclick = function () {
                        modal.style.display = "none";
                    }
                    // When the user clicks on <span> (x), close the modal Texto herramientas
                    spanTexto.onclick = function () {
                        modalTexto.style.display = "none";
                    }


                    // When the user clicks anywhere outside of the modal (both), close it
                    window.onclick = function (event) {
                        if (event.target == modal) {
                            modal.style.display = "none";
                        }
                        if (event.target == modalTexto) {
                            modalTexto.style.display = "none";
                        }
                    }

                    function alturaModal() {
                        var h = window.innerHeight
                            || document.documentElement.clientHeight
                            || document.body.clientHeight;
                        var bd = document.getElementById("modalBody");
                        var ft = document.getElementById("modalFooter");
                        var hd = document.getElementById("modalHeader");
                        // mejor define altura descontando título y footer.
                        h = 0.8 * (h - 30 - hd.scrollHeight - ft.scrollHeight);
                        bd.style.height = h + "px";
                    }

                    function alturaModalTexto() {
                        var h = window.innerHeight
                            || document.documentElement.clientHeight
                            || document.body.clientHeight;
                        var bd = document.getElementById("modalBodyTexto");
                        var hd = document.getElementById("modalHeaderTexto");
                        // mejor define altura descontando título.
                        h = 0.75 * (h - 40 - hd.scrollHeight);
                        bd.style.height = h + "px";
                    }
                    var tMonitor = 0;
                    //activa monitor de cambios
                    function activaMonitor() {
                        tMonitor = setInterval(modoIngreso, 500);
                    }
                    //desactiva monitor de cambios
                    function desactivaMonitor() {
                        clearInterval(tMonitor);
                    }
                    var modoBuscar = false;
                                        
                    function DefinirModoBuscar(activo) {

                        if (activo == true) {
                            document.getElementById("BtnCerrar").style.display = "block";                            
                            document.getElementById("BtnEjecutaBuscar").style.display = "block";
                            document.getElementById("BtnBuscar").style.display = "none";
                            document.getElementById("BtnPrimeraFrase").style.display = "none";
                            document.getElementById("BtnFraseAnterior").style.display = "none";
                            document.getElementById("BtnFraseSiguiente").style.display = "none";
                            document.getElementById("BtnUltimaFrase").style.display = "none";
                            document.getElementById("BtnFraseAleatoria").style.display = "none";
                            document.getElementById("BtnFraseSolicitada").style.display = "none";
                            document.getElementById("BtnCopiar").style.display = "none";
                            document.getElementById("BtnAyuda").style.display = "none";
                            document.getElementById("icoPen").style.display = "none";
                            document.getElementById("BtnEnlace").style.display = "none";
                            document.getElementById("infoEncontradas").style.display = "block";
                            document.getElementById("txtBuscar").style.display = "block";                            
                            document.getElementById("txtBuscar").style.width = "100%";
                            document.getElementById("txtBuscar").style.minWidth = "150px";
                            document.getElementById("ingresando").style.display = "block";
                            document.getElementById("contFrases").style.fontSize = "1.2em"; 
                            document.getElementById("contFrases").style.display = "none";
                            document.getElementById("txtBuscar").value = "";
                            //oculta la actual
                            ocultarFrase(fraseActual);
                            //monitor
                            activaMonitor();
                            //dirige el foco al cuadro de búsqueda
                            document.getElementById("txtBuscar").focus();                                                      
                            modoBuscar = true;
                        }
                        else {
                                                         
                            document.getElementById("txtBuscar").style.minWidth = "0";
                            document.getElementById("txtBuscar").style.width = "0"; 
                            //para permitir transiciones espera un poco...                            
                            setTimeout(function () {

                                document.getElementById("txtBuscar").style.display = "none";
                                document.getElementById("BtnCerrar").style.display = "none";
                                document.getElementById("BtnEjecutaBuscar").style.display = "none";
                                document.getElementById("BtnBuscar").style.display = "block";
                                document.getElementById("BtnPrimeraFrase").style.display = "block";
                                document.getElementById("BtnFraseAnterior").style.display = "block";
                                document.getElementById("BtnFraseSiguiente").style.display = "block";
                                document.getElementById("BtnUltimaFrase").style.display = "block";
                                document.getElementById("BtnFraseAleatoria").style.display = "block";
                                document.getElementById("BtnFraseSolicitada").style.display = "block";
                                document.getElementById("BtnCopiar").style.display = "block";
                                document.getElementById("BtnAyuda").style.display = "block";
                                document.getElementById("icoPen").style.display = "block";
                                document.getElementById("BtnEnlace").style.display = "block";
                                document.getElementById("infoEncontradas").style.display = "none";
                                document.getElementById("ingresando").style.display = "none";
                                document.getElementById("contFrases").style.display = "block";
                                document.getElementById("contFrases").style.fontSize = "10vh";
                                //monitor
                                desactivaMonitor();
                                modoBuscar = false;

                            }, 500);     
                                      
                        }
                    }
                    //esto se llama al cargar este script
                    DefinirModoBuscar(false);

                    // entra al modo búsqueda
                    document.getElementById("BtnBuscar").onclick = function () {

                        DefinirModoBuscar(true);
                        //mensaje
                        showSnackbar("Modo búsqueda activado"); 
                    }
                    // sale del modo búsqueda
                    function salirBuscar() {
                        DefinirModoBuscar(false);
                        //muestra la frase actual: la que estaba o la que eligió de los resultados
                        mostrarFrase(fraseActual);
                        //mensaje
                        showSnackbar("Modo búsqueda desactivado");
                    }
                    // una forma de salir es en la X: el btn cerrar
                    document.getElementById("BtnCerrar").onclick = function (e) {
                        // no sale si está ocupado buscando...
                        if (buscando == true) {
                            e.preventDefault();
                            e.stopPropagation();
                            return false;
                        }
                        //sale
                        salirBuscar();
                    }
                    // otra forma de salir es haciendo clic en una frase de los resultados
                    function clickFrase(miId) {                        
                        //solo funciona en el modo búsqueda, pero si no está ocupado
                        if (modoBuscar == false || buscando == true) {
                            return;
                        }
                        // irá a la frase que seleccionó
                        fraseActual = miId.slice(1);  
                        //sale
                        salirBuscar();
                    }
                    // se mueve a una frase específica
                    function irFrase(miFrase) {  
                        if (validateNumFrase() == true) {
                            var miFrase = document.getElementById("txtNumFrase").value
                            //cierra ventana
                            modal.style.display = "none";                            
                            //oculta la actual
                            ocultarFrase(fraseActual);
                            // nueva actual
                            fraseActual = miFrase;
                            //va a la nueva
                            mostrarFrase(fraseActual);
                            //scroll 
                            topFunction();
                            //mensaje
                            showSnackbar("Frase número " + fraseActual);
                        } else {
                            //error. El mensaje está en la validación                            
                        }                                                
                    }

                    //capturando pulsación de teclado en txtNumFrase...
                    document.getElementById("txtNumFrase").onkeydown = function (e) {                        

                        var characterCode;
                        // e.key es la recomendación actual
                        if (e.key != undefined) {
                            if (e.key.toLowerCase() == "enter") {
                                characterCode = 13;
                            }
                            else {
                                characterCode = 0;
                            }
                        } else {
                            /* navegadores antiguos...  */
                            characterCode = e.which || e.charCode || e.keyCode || e.keyIdentifier || 0;
                        }

                        // solo si presionó Enter
                        if (characterCode == 13) {

                            //da el enfoque al botón,
                            //esto permite que se oculte el teclado en algunos móviles

                            document.getElementById("txtNumFrase").blur();
                            document.getElementById("btnNumFrase").focus();
                            //ahora sí llama la función
                            irFrase();
                        }

                    }

                    // aceptar en #Ir a frase...
                    document.getElementById("btnNumFrase").onclick = function () {
                       
                            irFrase();
                           
                    }

                    function validateNumFrase() {
                        //solo valido que la frase exista...
                        var x = document.getElementById("txtNumFrase").value;
                        if (existeFrase("f" + x) == true) {
                            //valida
                            return true;
                        } else {
                            //error
                            showSnackbar("¡Esa frase no existe!");
                            document.getElementById("txtNumFrase").focus();
                            return false;
                        }
                    }
                    function existeFrase(idFrase) {
                        if (! document.getElementById(idFrase)) {
                            //no existe
                            return false;
                        } else {
                            //sí existe
                            return true;
                        }
                    }

                    function ocultarFrase(idFrase) {
                        document.getElementById("f" + idFrase).style.display = "none";
                        document.getElementById("e" + idFrase).style.display = "none";
                    }
                    function mostrarFrase(idFrase) {
                        document.getElementById("f" + idFrase).style.display = "block";
                        document.getElementById("e" + idFrase).style.display = "block";
                    }
                    // Ir a primera frase...
                    document.getElementById("BtnPrimeraFrase").onclick = function () {
                        //oculta la actual
                        ocultarFrase(fraseActual);
                        //nueva actual
                        fraseActual = 1;
                        //va a la 1
                        mostrarFrase(fraseActual);
                        //scroll 
                        topFunction();
                        //mensaje
                        showSnackbar("Primera frase: Número " + fraseActual);
                    }
                    // Ir a última frase...
                    document.getElementById("BtnUltimaFrase").onclick = function () {
                        //oculta la actual
                        ocultarFrase(fraseActual);
                        //nueva actual
                        fraseActual = maxNumFrase;
                        //va a la máxima
                        mostrarFrase(fraseActual);
                        //scroll 
                        topFunction();
                        //mensaje
                        showSnackbar("Última frase: Número " + fraseActual);
                    }
                    // Ir a siguiente frase...
                    document.getElementById("BtnFraseSiguiente").onclick = function () {
                        //si está en la última no hace nada, solo scroll
                        if (Number(fraseActual) == Number(maxNumFrase)) {
                            //scroll 
                            topFunction();
                            return;
                        }
                        //oculta la actual
                        ocultarFrase(fraseActual);
                        //nueva actual
                        fraseActual = Number(fraseActual) + 1;
                        //va a la siguiente
                        mostrarFrase(fraseActual);
                        //scroll 
                        topFunction();
                        //mensaje
                        showSnackbar("Siguiente frase: Número " + fraseActual);
                    }
                    // Ir a anterior frase...
                    document.getElementById("BtnFraseAnterior").onclick = function () {
                        //si está en la primera no hace nada, solo scroll
                        if (Number(fraseActual) == 1) {
                            //scroll 
                            topFunction();
                            return;
                        }
                        //oculta la actual
                        ocultarFrase(fraseActual);
                        //nueva actual
                        fraseActual = Number(fraseActual) - 1;
                        //va a la anterior
                        mostrarFrase(fraseActual);
                        //scroll 
                        topFunction();
                        //mensaje
                        showSnackbar("Frase anterior: Número " + fraseActual);
                    }
                    // Ir a frase al azar...
                    document.getElementById("BtnFraseAleatoria").onclick = function () {
                        var rand;
                        //genera un número entero aleatorio entre 1 y el total de frases
                        rand = Math.floor(Math.random() * Number(maxNumFrase)) + 1;
                        //oculta la actual
                        ocultarFrase(fraseActual);
                        //nueva actual
                        fraseActual = rand;
                        //va a la frase aleatoria
                        mostrarFrase(fraseActual);
                        //scroll 
                        topFunction();
                        //mensaje
                        showSnackbar("Saltó a frase número " + fraseActual);
                    }

                    // tamaño de la colección en el acordeón
                    document.getElementById("topeAcordion").innerHTML = "" + maxNumFrase;

                    //cuando digita muestra el modo de ingreso...
                    function modoIngreso() {
                        //verifica si realmente hubo un cambio
                        if (buscado == document.getElementById("txtBuscar").value) {                            
                            return;
                        } 
                        //el nuevo valor en el input
                        buscado = document.getElementById("txtBuscar").value;
                        //ahora sí puede proceder...
                        document.getElementById("ingresando").style.display = "block";
                        document.getElementById("contFrases").style.display = "none";
                        //no puede copiar si está ingresando...
                        document.getElementById("BtnCopiar").style.display = "none";
                        //scroll 
                        topFunction();
                       
                    }
                    //input y onchange... para estar seguros
                    document.getElementById("txtBuscar").onchange = function () {
                        modoIngreso();
                    }
                    document.getElementById("txtBuscar").oninput = function () {
                        modoIngreso();
                    }
                    
                    //************
                    // Global de búsqueda
                    //************

                    function buscar() {
                        buscando = true;
                        //desactiva el cuadro de texto
                        document.getElementById("txtBuscar").disabled = true;
                        //desactiva el botón de buscar, salir y copiar
                        document.getElementById("BtnEjecutaBuscar").disabled = true;
                        document.getElementById("BtnCopiar").disabled = true;
                        document.getElementById("BtnCerrar").disabled = true;


                        //sale si no hay nada
                        if (document.getElementById("txtBuscar").value.length == 0) {
                            //mensaje y cancela acciones tomadas
                            showSnackbar("Ingrese texto de búsqueda");
                            buscando = false;
                            document.getElementById("txtBuscar").disabled = false;
                            document.getElementById("BtnEjecutaBuscar").disabled = false;
                            document.getElementById("BtnCopiar").disabled = false;
                            document.getElementById("BtnCerrar").disabled = false;
                            document.getElementById("txtBuscar").focus();
                            return;
                        } 

                        //MONITOR
                        desactivaMonitor();

                        //muestra resultados
                        document.getElementById("ingresando").style.display = "none";
                        document.getElementById("contFrases").style.display = "block";
                                                
                        //dirige el foco a los resultados
                        document.getElementById("txtBuscar").blur();
                        document.getElementById("contFrases").focus();
                        
                        //algoritmo de búsqueda:


                        //scroll para que vea los resultados
                        topFunction();
                        //búsqueda terminada
                        buscando = false;
                        //activa el cuadro de texto, botones buscar, salir y el de copiar
                        document.getElementById("txtBuscar").disabled = false;
                        document.getElementById("BtnEjecutaBuscar").disabled = false;
                        document.getElementById("BtnCopiar").style.display = "block";
                        document.getElementById("BtnCopiar").disabled = false;
                        document.getElementById("BtnCerrar").disabled = false;
                        //mensaje
                        showSnackbar("Búsqueda finalizada");
                        

                        //MONITOR
                        activaMonitor();

                    }
                    
                    //capturando pulsación de teclado en cuadro de búsqueda...
                    document.getElementById("txtBuscar").onkeydown = function (e) {   
                        //sale si está buscando...
                        if (buscando == true) {
                            e.preventDefault();
                            e.stopPropagation();
                            return false;
                        }

                        var characterCode;
                        // e.key es la recomendación actual
                        if (e.key != undefined) {                            
                            if (e.key.toLowerCase() == "enter") {
                                characterCode = 13;
                            }
                            else {
                                characterCode = 0;                                
                            }
                        } else {
                            /* navegadores antiguos...  */
                            characterCode = e.which || e.charCode || e.keyCode || e.keyIdentifier || 0;
                        }

                        //busca solo si presionó Enter
                        if (characterCode == 13) {
                            buscar();
                        }  
                        
                    }
                    //capturando pulsación de teclado en cuadro de búsqueda...
                    //para cancelar la pulsación en algunos navegadores se necesita keypress
                    document.getElementById("txtBuscar").onkeypress = function (e) {
                        //sale si está buscando...
                        if (buscando == true) {
                            e.preventDefault();
                            e.stopPropagation();
                            return false;
                        }
                    }
                    // botón ejecutar búsqueda 
                    document.getElementById("BtnEjecutaBuscar").onclick = function (e) {
                        // no busca si está ocupado buscando...
                        if (buscando == true) {
                            e.preventDefault();
                            e.stopPropagation();
                            return false;
                        }
                        //busca
                        buscar();
                    }
                    // botón copiar 
                    document.getElementById("BtnCopiar").onclick = function (e) {
                        // no copia si está ocupado buscando...
                        if (buscando == true) {
                            e.preventDefault();
                            e.stopPropagation();
                            return false;
                        }
                        //sale si no hay nada
                        if (document.getElementById("txtBuscar").value.length == 0 && modoBuscar == true) {
                            //mensaje
                            showSnackbar("Ejecute búsqueda primero");
                            return;
                        } 
                        //copia
                        
                    }

                    // botón copiar enlace 
                    document.getElementById("BtnEnlace").onclick = function () {
                        
                        //copia enlace a frase actual

                    }
                </script>

                    <footer>
                        <p>Coded by @deiner_db</p>
                        <img id="miFoto" title="Deiner Domínguez" alt="Foto Deiner Domínguez" src="miFoto.jpg" width="1280" height="893" />
                        <br />
                        <a href="https://www.facebook.com/deinerdb" target="_blank" class="fa fa-facebook"></a>
                        <a href="https://twitter.com/deiner_db" target="_blank" class="fa fa-twitter"></a>
                        <a href="https://www.instagram.com/deiner_db/" target="_blank" class="fa fa-instagram"></a>
                        <a href="https://plus.google.com/+DeinerDom%C3%ADnguezBola%C3%B1o" target="_blank" class="fa fa-google-plus"></a>
                        <a href="https://www.youtube.com/user/deinerdominguez" target="_blank" class="fa fa-youtube"></a>
                        <a href="skype:live:deiner_db?call" class="fa fa-skype"></a>
                    </footer>
</div>
        
            <button onclick="topFunction()" id="BtnTop" title="Subir">⇧</button>
            <script type="text/javascript" charset="utf-8" src="rutinas.js"></script>            
</body>
</html>

