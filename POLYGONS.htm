<!DOCTYPE HTML>
<html lang="es" dir="ltr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">  
        <meta name="description" content="POLÍGONOS SVG"/>
        <!-- Chrome, Firefox, OS y Opera -->
        <meta name="theme-color" content="#663399" />
        <!-- Windows Phone -->
        <meta name="msapplication-navbutton-color" content="#663399" />
        <title>POLÍGONOS SVG</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="estilo.css" />
        
        <link rel="icon" href="favicon.ico" type="image/x-icon" />
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
        
        <!--*jQuery CDN
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        este es más nuevo, pero usamos la versión vieja
    -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

        <style>
            .loader {
                position: fixed;
                left: 0px;
                top: 0px;
                width: 100%;
                height: 100%;
                z-index: 9999;
                background: url('pageLoader.gif') 50% 50% no-repeat rgb(249,249,249);
                opacity: 0.8;
                filter: Alpha(opacity=80); /* IE8 and earlier */
            }
            #col-container {
                width: 100%;
                max-width: 100%;
                position: relative;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;               
            }
            
            #opcionesCompleto {
                padding: 12px 4px;
                display: inline-block;
                max-width: 50%;
                position: absolute;
                overflow: auto;
                left: 0;
                right: 50%;
                top: 0;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
                background-color: whitesmoke;
                /*border-right: 1px solid purple; */
            }
            #opcionesCorto {
                overflow: auto;
                width: 100%;
                max-width: 100%;
                padding: 12px 4px;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
                display: block;
                position: static;
                display: none;
                background-color: whitesmoke;
                border: 1px solid purple; /*DarkGray ??*/
                -webkit-border-radius: 4px;
                -moz-border-radius: 4px;
                border-radius: 4px;
            }
                #opcionesCorto i {
                    color: rebeccapurple;
                    font-size: 3em;
                    float: left;
                    margin: 0 12px 3px 8px;
                }
                #opcionesCorto p {
                    background-color: lavender;
                    text-align: justify;
                    padding: 8px 12px;
                    margin: 8px 12px;
                    max-width: 100%;
                }
            #contenedorPolígono {
                text-align: center;
                padding: 0;
                display: inline-block;
                width: 50%;
                max-width: 50%;
                position: absolute;
                top: 0;
                left: 50%;
                right: 0;
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;                
            }

            #svgContainer {
                overflow: visible;
                
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                box-sizing: border-box;
                margin-top: 50%;
            }
                                   
            footer {
                position: absolute;
                top: 400px;
                left: 1.2%;
                right: 1%;
            }
            /* pantallas pequeñas*/
            @media only screen and (max-width: 600px) {
                
                /* pantallas pequeñas*/
                #col-container {
                    width: 100%;
                    position: static;
                    text-align:center;
                }
                /* pantallas pequeñas*/
                #svgContainer {
                    
                }
                /* pantallas pequeñas*/
                footer {
                    position: static;
                    top: auto;
                    left:auto;
                    right:auto;
                }
                /* pantallas pequeñas*/
                #contenedorPolígono {
                    width: 70%;
                    max-width: 70%;
                    position: static;                    
                    
                }
                /* pantallas pequeñas*/
                #opcionesCompleto {
                    display: none;
                }
                /* pantallas pequeñas*/
                #opcionesCorto {
                    width: 100%;
                    max-width: 100%;
                    position: static;
                    display: block;
                }
            }
            /*ajustes al imprimir*/
            @media print {
                /*cosas invisibles al imprimir*/
                #snackbar {
                    display: none !important;
                }
            }

            #opcionesCompleto h3 {
                color: purple;
                text-align:center;
            } 

            #listaOpcionesCorto, #listaLadosCorto, #listaLadosLargo {
                margin: 8px 3px;
                /*para que el ancho sea real*/
                -moz-box-sizing: border-box;
                -webkit-box-sizing: border-box;
                box-sizing: border-box;
                -webkit-border-radius: 4px;
                -moz-border-radius: 4px;
                border-radius: 4px;
                outline: none;
                width: 97%;
                padding: 10px 12px;
                border: none;
                background-color: #ffe6ff;
                font-size: 1.05em;
                max-width: 100%;
            }

                #listaOpcionesCorto:focus, #listaLadosCorto:focus, #listaLadosLargo:focus {
                    background-color: lavender !important;
                }

            fieldset {
                border: 1px solid purple;
                -webkit-border-radius: 4px;
                -moz-border-radius: 4px;
                border-radius: 4px;
                outline: none;
                /*para que el ancho sea real*/
                -moz-box-sizing: border-box;
                -webkit-box-sizing: border-box;
                box-sizing: border-box;
                margin: 8px 0px;
                font-weight: bold;
            }
           
        </style>
    </head>
    <body>
        <div class="loader"></div>
        <script type="text/javascript">
            $(window).load(function () {
                $(".loader").fadeOut("slow");
            });
                        
        </script>

        <!-- The actual snackbar -->
        <div id="snackbar">Realizado</div>

        <div id="mySidenav" class="sidenav">
            <a href="INDEX.htm"><i class="fa fa-home"></i>INICIO</a>
            <a href="HTML.htm"><i class="fa fa-html5"></i>HTML</a>
            <a href="CSS.htm"><i class="fa fa-css3"></i>CSS</a>
            <a href="JAVASCRIPT.htm"><i class="fa fa-code"></i>JAVASCRIPT</a>            
            <a href="MEDIA.htm"><i class="fa fa-play"></i>MULTIMEDIA</a>
            <a href="FILTROS.htm"><i class="fa fa-paint-brush"></i>FILTROS</a>
            <a href="CANVAS.htm"><i class="fa fa-file-image-o"></i>CANVAS</a>
            <a href="JUEGO.htm"><i class="fa fa-gamepad"></i>JUEGO</a>
            <a href="SVG.htm"><i class="fa fa-picture-o"></i>SVG</a>
            <a class="selected" id="selectedsidenav" href="POLYGONS.htm"><i class="fa fa-square-o"></i>POLÍGONOS</a>
            <a href="SITIOS.htm"><i class="fa fa-globe"></i>SITIOS</a>
            <a href="FORM.htm"><i class="fa fa-file-text-o"></i>FORMULARIOS</a>
            <a href="FUENTE.htm"><i class="fa fa-font"></i>FUENTES</a>
            <a href="IMC.htm"><i class="fa fa-calculator"></i>IMC</a>
            <a href="DTV.htm"><i class="fa fa-television"></i>DirecTV <sup>&#174;</sup></a>
            <a href="LOADERS.htm"><i class="fa fa-spinner"></i>LOADERS</a>
            <a href="MAP.htm"><i class="fa fa-map-marker"></i>MAPA</a>
            <a href="TRADUCTOR.htm"><i class="fa fa-google"></i>TRADUCIR</a>
            <a href="GRAFICAR.htm"><i class="fa fa-pie-chart"></i>GRAFICAR</a>
            <a href="FRASES.htm"><i class="fa fa-book"></i>FRASES</a>
            <a href="ANALIZAR.htm"><i class="fa fa-table"></i>ANALIZAR</a>
            <a href="X2.htm"><i class="fa fa-superscript"></i>EC. CUADRÁTICA</a>            
            <hr />
            <a href="#" onclick="imprimir()"><i class="fa fa-print"></i>IMPRIMIR</a>
        </div>
        <div id="relleno">
            relleno
        </div>
        <div id="overlay" onclick="soloCerrar()">
        </div>
        <div class="caja" id="caja">
            <div class="container" id="container" onclick="myFunction(this)">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
            </div>
            <div class="navbar" id="navbar" onclick="soloCerrar()">
                <a href="INDEX.htm"><i class="fa fa-home"></i>VOLVER AL INICIO</a>
                <a href="HTML.htm"><i class="fa fa-html5"></i>HTML</a>
                <a href="CSS.htm"><i class="fa fa-css3"></i>CSS</a>
                <a href="JAVASCRIPT.htm"><i class="fa fa-code"></i>JAVASCRIPT</a>
                <a href="MEDIA.htm"><i class="fa fa-play"></i>MULTIMEDIA</a>
                <a href="FILTROS.htm"><i class="fa fa-paint-brush"></i>FILTROS</a>
                <a href="CANVAS.htm"><i class="fa fa-file-image-o"></i>CANVAS</a>
                <a href="JUEGO.htm"><i class="fa fa-gamepad"></i>JUEGO</a>
                <a href="SVG.htm"><i class="fa fa-picture-o"></i>SVG</a>
                <a class="selected" id="selectednavbar" href="POLYGONS.htm"><i class="fa fa-square-o"></i>POLÍGONOS</a>
                <a href="SITIOS.htm"><i class="fa fa-globe"></i>SITIOS</a>
                <a href="FORM.htm"><i class="fa fa-file-text-o"></i>FORMULARIOS</a>
                <a href="FUENTE.htm"><i class="fa fa-font"></i>FUENTES</a>
                <a href="IMC.htm"><i class="fa fa-calculator"></i>IMC</a>
                <a href="DTV.htm"><i class="fa fa-television"></i>DirecTV <sup>&#174;</sup></a>
                <a href="LOADERS.htm"><i class="fa fa-spinner"></i>LOADERS</a>
                <a href="MAP.htm"><i class="fa fa-map-marker"></i>MAPA</a>
                <a href="TRADUCTOR.htm"><i class="fa fa-google"></i>TRADUCIR</a>
                <a href="GRAFICAR.htm"><i class="fa fa-pie-chart"></i>GRAFICAR</a>
                <a href="FRASES.htm"><i class="fa fa-book"></i>FRASES</a>
                <a href="ANALIZAR.htm"><i class="fa fa-table"></i>ANALIZAR</a>
                <a href="X2.htm"><i class="fa fa-superscript"></i>EC. CUADRÁTICA</a>                
                <span id="separador">|</span>
                <a href="#" onclick="imprimir()"><i class="fa fa-print"></i>IMPRIMIR</a>

            </div>
        </div>
 
           
            <div class="main" id="main">                
                    <button class="accordion" id="accordion">POLÍGONOS SVG<i id="folder" class="fa" aria-hidden="true"></i></button>
                    <div class="panel" id="panel">
                        <p>
                            <i class="fa fa-square-o" aria-hidden="true"></i>
                            Esta página utiliza SVG (sigla en inglés de Scalable Vector Graphics [Gráficos Vectoriales Escalables]) para dibujar polígonos regulares.
                            Un polígono regular es un polígono en el que todos los lados tienen la misma longitud y todos los ángulos interiores tienen el mismo valor. 
                            Todos los polígonos regulares se pueden inscribir perfectamente en una circunferencia.
                            Se pueden personalizar algunos elementos del dibujo (color de fondo, borde, relleno, etc).
                            <br />
                            <br />
                            <strong style="clear:left">Fragmento de código usado en esta página:</strong><br />
                        </p>

<textarea readonly rows="6">
...
// ajusta el alto del contenedor del svg
document.getElementById("contenedorPolígono").style.height = w * 0.9 + "px";
// ajusta el ancho del svg
document.getElementById("svgContainer").setAttribute("width", w * 0.6); 
...
</textarea>
                        <i id="arrow" class="fa fa-angle-double-up" aria-hidden="true"></i>
                    </div>
                
                <div id="col-container">                   
                    <div id="opcionesCompleto">                        
                        <h3>OPCIONES</h3>
                        <fieldset>
                            <legend>Número de lados: </legend>
                            <select id="listaLadosLargo" onchange="ladosLargo()">
                                <option value="3lados" selected>3 - Triángulo equilátero</option>
                                <option value="4lados">4 - Cuadrado</option>
                            </select>

                        </fieldset> 

                       
                    </div>
                    <div id="contenedorPolígono">
                        <svg id="svgContainer" height="100" width="100">
                            <polygon id="poligono"  transform="" points="" style="fill:blue; stroke:red; stroke-width:3;"></polygon>
                        </svg>
                    </div>                    
                    <div id="opcionesCorto">                        
                        <select id="listaOpcionesCorto" onchange="mostrarOpcionesCorto()">
                            <option value="lados" selected>Número de lados</option>
                        </select>
                        <select id="listaLadosCorto" onchange="ladosCorto()">
                            <option value="3lados" selected>3 - Triángulo equilátero</option>
                            <option value="4lados">4 - Cuadrado</option>
                        </select>



                        <p>
                            <i class="fa fa-lightbulb-o" aria-hidden="true"></i>
                            Seleccione en la lista de arriba una opción para personalizar el polígono.
                            Luego modifique la opción seleccionada en la interfaz provista debajo.   
                            <span style="margin:0; padding:0; display:block; clear:left"></span>                        
                        </p>
                        
                    </div>                    
                </div>
                
                <footer id="footer">                    
                    <p>Coded by @deiner_db</p>
                    <img id="miFoto" title="Deiner Domínguez" alt="Foto Deiner Domínguez" src="miFoto.jpg" width="1280" height="893" />
                    <br />
                    <a href="https://www.facebook.com/deinerdb" target="_blank" class="fa fa-facebook"></a>
                    <a href="https://twitter.com/deiner_db" target="_blank" class="fa fa-twitter"></a>
                    <a href="https://www.instagram.com/deiner_db/" target="_blank" class="fa fa-instagram"></a>

                    <a href="https://www.youtube.com/user/deinerdominguez" target="_blank" class="fa fa-youtube"></a>
                    <a href="skype:live:deiner_db?call" class="fa fa-skype"></a>
                </footer>
                
                </div>
        <script type="text/javascript">
            //inicializa, valores defecto
            var lados = 3;
            // el giro inicial es el del triángulo
            var angle = -90;

            function alturaOpciones() {
                var t = 0;
                // la altura del opcionesCompleto
                var h = window.innerHeight
                    || document.documentElement.clientHeight
                    || document.body.clientHeight;
                h = h - document.getElementById("caja").scrollHeight;
                h = h * 0.95;
                document.getElementById("opcionesCompleto").style.height = h + "px";                
                // el top para cuando sea Absolute   
                t = document.getElementById("caja").scrollHeight;  
                t = Number(t) + document.getElementById("accordion").scrollHeight;                
                if (accAbierta == true) {
                    t = Number(t) + document.getElementById("panel").scrollHeight;                
                }                                
                t = Number(t) + document.getElementById("col-container").scrollHeight;                                  
                // del footer
                t = Number(t) + 32;
                document.getElementById("footer").style.top = t + "px";
                
                // actualiza el polígono
                dibujar();

            }
            function dibujar() {
                // define algunas variables necesarias
                // halla el ancho del contenedor
                var w = document.getElementById("contenedorPolígono").scrollWidth;
                // ajusta el alto del contenedor del svg
                document.getElementById("contenedorPolígono").style.height = w * 0.9 + "px";
                // ajusta el ancho del svg
                document.getElementById("svgContainer").setAttribute("width", w * 0.6); 
                // alto del svg
                document.getElementById("svgContainer").setAttribute("height", w * 0.6); 
                // margen superior del svg, para centrarlo un poco
                document.getElementById("svgContainer").style.marginTop = (w - 0.6 * w) * 0.35  + "px";
                var cx = (w * 0.6) * 0.5;
                var cy = (w * 0.6) * 0.5;                
                var r = 0.3 * w;
                
                // la función points
                function points(cx, cy, r, lados) {
                    var a = 360 / lados;                    
                    // inicia la variable points
                    var points = (cx + r) + "," + cy + " ";                    
                    // calcula el resto de los puntos
                    for (var i = 1; i <= lados; i++) { 
                        var aRad = (Math.PI / 180) * (i * a);
                        Xp = cx + r * Math.cos(aRad);                        
                        Yp = cy + r * Math.sin(aRad);                        
                        points += Xp + "," + Yp + " ";
                    }
                    // devuelve la variable points			
                    return points
                }
                // busca el elemento #poligono
                var poligono = document.getElementById("poligono");
                // modifica el valor del atributo points utilizando la función points.
                poligono.setAttribute("points", points(cx, cy, r, lados));
                // determina el giro                
                var giro = "rotate(" + angle + "deg)";
                var svgContainer = document.getElementById("svgContainer");
                svgContainer.style.webkitTransform = giro;
                svgContainer.style.msTransform = giro;
                svgContainer.style.transform = giro;

            }

            // el ángulo depende del número de lados
            function calculaÁngulo() {                
                switch (lados) {
                    case 3:
                        angle = -90;
                        break;
                    case 4:
                        angle = -45;                        
                        break;
                    default:
                        angle = 0;
                }

            }
            function mostrarOpcionesCorto() {
                var x = document.getElementById("listaOpcionesCorto").selectedIndex;
                var y = document.getElementById("listaOpcionesCorto").options;
                // el elemento seleccionado es y[x].value;
                //oculta todas las opciones cortas, OJO: TODAS
                document.getElementById("listaLadosCorto").style.display = "none";

                //muestra la opción seleccionada
                switch (y[x].value) {
                    case "lados":
                        document.getElementById("listaLadosCorto").style.display = "block";
                        break;
                    //case "lineal":
                        
                }
                
            }
            function ladosCorto() {
                var x = document.getElementById("listaLadosCorto").selectedIndex;
                var y = document.getElementById("listaLadosCorto").options;
                // el elemento seleccionado es y[x].value;
                // variable lados cambiada
                ajustaLados(y[x].value);
                //ajusta el ángulo
                calculaÁngulo();
                //sincroniza
                document.getElementById("listaLadosLargo").selectedIndex = x;
                //aplica
                dibujar();
            }
            function ladosLargo() {
                var x = document.getElementById("listaLadosLargo").selectedIndex;
                var y = document.getElementById("listaLadosLargo").options;
                // el elemento seleccionado es y[x].value;
                // variable lados cambiada
                ajustaLados(y[x].value);
                //ajusta el ángulo
                calculaÁngulo();
                //sincroniza
                document.getElementById("listaLadosCorto").selectedIndex = x;
                //aplica
                dibujar();
            }
            // ajusta variable lados según la nueva selección
            function ajustaLados(valueLados) {
                switch (valueLados) {
                    case "3lados":
                        lados = 3;
                        break;
                    case "4lados":
                        lados = 4;
                }
            }

            // todo por un bug de ie
            setInterval(alturaOpciones, 1000);
        </script>

            <button onclick="topFunction()" id="BtnTop" title="Subir">⇧</button>
            <script type="text/javascript" charset="utf-8" src="rutinas.js"></script>
</body>
</html>

